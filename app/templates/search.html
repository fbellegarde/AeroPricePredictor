{% extends "base.html" %}

{% block content %}
<h1>Flight Price Prediction for {{ origin }} to {{ destination }}</h1>

<div class="prediction-summary">
    <p>Historical Average Price: <strong>{{ predictions.historical_avg }}</strong></p>
    <p>Inflation-Adjusted Average: <strong>{{ predictions.inflation_adjusted }}</strong></p>
</div>

<h2>Upcoming Price Forecast (Next 30 Days)</h2>
<div class="forecast-list">
    {% for forecast in predictions.next_30_days %}
    <div class="forecast-item">
        <p>Date: **{{ forecast.date }}**</p>
        <p>Predicted Price: **{{ forecast.price }}**</p>
        {% if forecast.recommendation %}
            <span class="badge best-buy"><i class="fas fa-star"></i> {{ forecast.recommendation }}</span>
        {% endif %}
    </div>
    {% endfor %}
</div>

<p class="disclaimer">Note: These are AI-driven predictions. Prices are subject to real-time market changes.</p>

<a href="{{ url_for('main_bp.index') }}" class="button secondary-button"><i class="fas fa-arrow-left"></i> Start a New Search</a>

<style>
/* Temporary styling for the results page until we make a full style.css */
.prediction-summary p { font-size: 1.2em; font-weight: bold; }
.forecast-list { display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; }
.forecast-item { border: 1px solid #ccc; padding: 15px; border-radius: 8px; flex-basis: 30%; background-color: white; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); }
.badge { padding: 5px 10px; border-radius: 4px; font-weight: bold; margin-top: 10px; display: inline-block; }
.best-buy { background-color: #ffcc00; color: #333; }
.secondary-button { background-color: #4a5568; }
</style>

{% endblock %}